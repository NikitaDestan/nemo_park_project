{% extends 'nemo_park/base.html' %}

{% block title %}–ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ{% endblock %}

{% block content %}
<div class="page-header">
    <div class="page-title">üóëÔ∏è –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤</div>
</div>

<div class="form-container">
    <div class="alert alert-warning" style="text-align: center; margin-bottom: 25px;">
        ‚ö†Ô∏è <strong>–í–Ω–∏–º–∞–Ω–∏–µ!</strong> –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!
    </div>
    
    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div style="background: #f8f9fa; border-radius: 15px; padding: 20px; margin-bottom: 25px;">
        <h4 style="margin-bottom: 15px; text-align: center;">üìä –¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; text-align: center;">
            <div style="background: white; padding: 15px; border-radius: 10px;">
                <div style="font-size: 2rem; font-weight: 700; color: #023E8A;">{{ total_count }}</div>
                <div style="color: #666;">–í—Å–µ–≥–æ</div>
            </div>
            <div style="background: white; padding: 15px; border-radius: 10px;">
                <div style="font-size: 2rem; font-weight: 700; color: #f39c12;">{{ draft_count }}</div>
                <div style="color: #666;">–ß–µ—Ä–Ω–æ–≤–∏–∫–æ–≤</div>
            </div>
            <div style="background: white; padding: 15px; border-radius: 10px;">
                <div style="font-size: 2rem; font-weight: 700; color: #00b894;">{{ paid_count }}</div>
                <div style="color: #666;">–í—ã–ø–ª–∞—á–µ–Ω–Ω—ã—Ö</div>
            </div>
        </div>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è -->
    <div style="display: flex; flex-direction: column; gap: 15px;">
        
        <!-- –£–¥–∞–ª–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫–∏ -->
        {% if draft_count > 0 %}
        <form method="post" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å {{ draft_count }} —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤?');">
            {% csrf_token %}
            <input type="hidden" name="delete_type" value="draft">
            <button type="submit" class="btn btn-warning" style="width: 100%; padding: 15px;">
                üìù –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∏ ({{ draft_count }} —à—Ç.)
            </button>
        </form>
        {% endif %}
        
        <!-- –£–¥–∞–ª–∏—Ç—å –≤—ã–ø–ª–∞—á–µ–Ω–Ω—ã–µ -->
        {% if paid_count > 0 %}
        <form method="post" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å {{ paid_count }} –≤—ã–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤? –≠—Ç–æ –æ—á–∏—Å—Ç–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –≤—ã–ø–ª–∞—Ç!');">
            {% csrf_token %}
            <input type="hidden" name="delete_type" value="paid">
            <button type="submit" class="btn" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #00b894 0%, #00cec9 100%); color: white;">
                ‚úÖ –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –≤—ã–ø–ª–∞—á–µ–Ω–Ω—ã–µ ({{ paid_count }} —à—Ç.)
            </button>
        </form>
        {% endif %}
        
        <!-- –£–¥–∞–ª–∏—Ç—å –≤—Å—ë -->
        {% if total_count > 0 %}
        <form method="post" onsubmit="return confirm('üö® –£–î–ê–õ–ò–¢–¨ –í–°–ï {{ total_count }} –†–ê–°–ß–Å–¢–ù–´–• –õ–ò–°–¢–û–í? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!');">
            {% csrf_token %}
            <input type="hidden" name="delete_type" value="all">
            <button type="submit" class="btn btn-danger" style="width: 100%; padding: 15px;">
                üíÄ –£–¥–∞–ª–∏—Ç—å –í–°–Å ({{ total_count }} —à—Ç.)
            </button>
        </form>
        {% else %}
        <div style="text-align: center; padding: 30px; color: #999;">
            <div style="font-size: 3rem; margin-bottom: 10px;">üì≠</div>
            <p>–†–∞—Å—á—ë—Ç–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤ –Ω–µ—Ç</p>
        </div>
        {% endif %}
    </div>
    
    <div class="buttons-center" style="margin-top: 30px;">
        <a href="{% url 'payroll_list' %}" class="btn btn-secondary">‚Üê –û—Ç–º–µ–Ω–∞</a>
    </div>
</div>
{% endblock %}