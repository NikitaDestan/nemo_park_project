{% extends 'nemo_park/base.html' %}

{% block title %}Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ{% endblock %}

{% block content %}
<div class="page-header">
    <div class="page-title">ğŸ“Š ĞŸĞ°Ğ½ĞµĞ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ</div>
</div>

{% if user.role == 'admin' %}
<!-- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ° -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">ğŸ‘¥</div>
        <div class="stat-number">{{ employees_count }}</div>
        <div class="stat-label">Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¾Ğ²</div>
    </div>
    <div class="stat-card orange">
        <div class="stat-icon">ğŸ‘¤</div>
        <div class="stat-number">{{ visitors_count }}</div>
        <div class="stat-label">ĞŸĞ¾ÑĞµÑ‚Ğ¸Ñ‚ĞµĞ»ĞµĞ¹</div>
    </div>
    <div class="stat-card purple">
        <div class="stat-icon">ğŸ«</div>
        <div class="stat-number">{{ tickets_count }}</div>
        <div class="stat-label">Ğ‘Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²</div>
    </div>
    <div class="stat-card green">
        <div class="stat-icon">ğŸ›’</div>
        <div class="stat-number">{{ orders_count }}</div>
        <div class="stat-label">Ğ—Ğ°ĞºĞ°Ğ·Ğ¾Ğ²</div>
    </div>
</div>

<!-- Ğ’Ñ‹Ñ€ÑƒÑ‡ĞºĞ° -->
<h3 style="margin: 30px 0 20px; color: #023E8A;">ğŸ’° Ğ’Ñ‹Ñ€ÑƒÑ‡ĞºĞ°</h3>
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">ğŸ«</div>
        <div class="stat-number">{{ tickets_revenue|floatformat:0 }} â‚½</div>
        <div class="stat-label">Ğ—Ğ° Ğ±Ğ¸Ğ»ĞµÑ‚Ñ‹</div>
    </div>
    <div class="stat-card orange">
        <div class="stat-icon">ğŸ•</div>
        <div class="stat-number">{{ orders_revenue|floatformat:0 }} â‚½</div>
        <div class="stat-label">Ğ—Ğ° Ğ·Ğ°ĞºĞ°Ğ·Ñ‹</div>
    </div>
    <div class="stat-card green">
        <div class="stat-icon">ğŸ’µ</div>
        <div class="stat-number">{{ total_revenue|floatformat:0 }} â‚½</div>
        <div class="stat-label">ĞĞ±Ñ‰Ğ°Ñ Ğ²Ñ‹Ñ€ÑƒÑ‡ĞºĞ°</div>
    </div>
</div>

<!-- Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ -->
<h3 style="margin: 30px 0 20px; color: #023E8A;">âš¡ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ</h3>
<div class="buttons-left">
    <a href="{% url 'add_ticket' %}" class="btn btn-primary">ğŸ« ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ¸Ğ»ĞµÑ‚</a>
    <a href="{% url 'create_order' %}" class="btn btn-success">ğŸ›’ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·</a>
    <a href="{% url 'payroll_calculate' %}" class="btn btn-warning">ğŸ’° Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ·Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ñ‹</a>
    <a href="{% url 'add_employee' %}" class="btn btn-secondary">ğŸ‘¤ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ°</a>
</div>

{% elif user.role == 'cashier' %}
<!-- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ´Ğ»Ñ ĞºĞ°ÑÑĞ¸Ñ€Ğ° -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">ğŸ«</div>
        <div class="stat-number">{{ tickets_count }}</div>
        <div class="stat-label">ĞœĞ¾Ğ¸Ñ… Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²</div>
    </div>
    <div class="stat-card orange">
        <div class="stat-icon">ğŸ›’</div>
        <div class="stat-number">{{ orders_count }}</div>
        <div class="stat-label">ĞœĞ¾Ğ¸Ñ… Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²</div>
    </div>
    <div class="stat-card green">
        <div class="stat-icon">ğŸ’µ</div>
        <div class="stat-number">{{ personal_revenue|floatformat:0 }} â‚½</div>
        <div class="stat-label">ĞœĞ¾Ñ Ğ²Ñ‹Ñ€ÑƒÑ‡ĞºĞ°</div>
    </div>
</div>

<!-- Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ²Ñ‹Ñ€ÑƒÑ‡ĞºĞ¸ -->
<div style="background: #f8f9fa; padding: 20px; border-radius: 15px; margin-top: 20px;">
    <h4 style="margin: 0 0 15px; color: #023E8A;">ğŸ“Š Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ</h4>
    <div style="display: flex; gap: 30px; flex-wrap: wrap;">
        <div>
            <span style="color: #666;">ğŸ« Ğ‘Ğ¸Ğ»ĞµÑ‚Ñ‹:</span>
            <strong style="color: #0077B6;">{{ tickets_revenue|floatformat:0 }} â‚½</strong>
        </div>
        <div>
            <span style="color: #666;">ğŸ• Ğ—Ğ°ĞºĞ°Ğ·Ñ‹:</span>
            <strong style="color: #f39c12;">{{ orders_revenue|floatformat:0 }} â‚½</strong>
        </div>
    </div>
</div>

<!-- Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ -->
<h3 style="margin: 30px 0 20px; color: #023E8A;">âš¡ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ</h3>
<div class="buttons-left">
    <a href="{% url 'add_ticket' %}" class="btn btn-primary">ğŸ« ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ¸Ğ»ĞµÑ‚</a>
    <a href="{% url 'create_order' %}" class="btn btn-success">ğŸ›’ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·</a>
    <a href="{% url 'my_payroll' %}" class="btn btn-warning">ğŸ’° ĞœĞ¾Ñ Ğ·Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ğ°</a>
</div>

{% endif %}
{% endblock %}