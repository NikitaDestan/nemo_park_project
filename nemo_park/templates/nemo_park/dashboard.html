{% extends 'nemo_park/base.html' %}

{% block title %}Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ{% endblock %}

{% block content %}
<h2>ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ°ĞºĞ²Ğ°Ğ¿Ğ°Ñ€ĞºĞ°</h2>

<div class="stats">
    {% if user.role == 'admin' %}
    <div class="stat-card">
        <h3>ğŸ‘¥ Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸</h3>
        <p style="font-size: 24px; font-weight: bold; color: #007cba;">{{ employees_count }}</p>
    </div>
    <div class="stat-card">
        <h3>ğŸ‘¤ ĞŸĞ¾ÑĞµÑ‚Ğ¸Ñ‚ĞµĞ»Ğ¸</h3>
        <p style="font-size: 24px; font-weight: bold; color: #28a745;">{{ visitors_count }}</p>
    </div>
    <div class="stat-card">
        <h3>ğŸ« Ğ‘Ğ¸Ğ»ĞµÑ‚Ñ‹</h3>
        <p style="font-size: 24px; font-weight: bold; color: #dc3545;">{{ tickets_count }}</p>
    </div>
    <div class="stat-card">
        <h3>ğŸ’° ĞĞ±Ñ‰Ğ°Ñ Ğ²Ñ‹Ñ€ÑƒÑ‡ĞºĞ°</h3>
        <p style="font-size: 24px; font-weight: bold; color: #ff6b00;">{{ total_revenue }} Ñ€ÑƒĞ±.</p>
    </div>
    
    {% elif user.role == 'cashier' %}
    <div class="stat-card">
        <h3>ğŸ‘¤ Ğ’ÑĞµĞ³Ğ¾ Ğ¿Ğ¾ÑĞµÑ‚Ğ¸Ñ‚ĞµĞ»ĞµĞ¹</h3>
        <p style="font-size: 24px; font-weight: bold; color: #28a745;">{{ visitors_count }}</p>
    </div>
    <div class="stat-card">
        <h3>ğŸ« ĞŸÑ€Ğ¾Ğ´Ğ°Ğ½Ğ¾ Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²</h3>
        <p style="font-size: 24px; font-weight: bold; color: #dc3545;">{{ tickets_count }}</p>
    </div>
    <div class="stat-card">
        <h3>ğŸ’° Ğ’Ğ°ÑˆĞ° Ğ²Ñ‹Ñ€ÑƒÑ‡ĞºĞ°</h3>
        <p style="font-size: 24px; font-weight: bold; color: #ff6b00;">{{ personal_revenue }} Ñ€ÑƒĞ±.</p>
    </div>
    {% endif %}
</div>

{% if user.is_authenticated and user.role != 'user' %}
<div class="nav">
    <h3>ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ:</h3>
    {% if user.role == 'admin' %}
        <a href="{% url 'add_employee' %}">â• Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ°</a> |
        <a href="{% url 'add_visitor' %}">â• Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞµÑ‚Ğ¸Ñ‚ĞµĞ»Ñ</a> |
    {% endif %}
    <a href="{% url 'add_ticket' %}">ğŸ« ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ¸Ğ»ĞµÑ‚</a>
</div>
{% endif %}
{% endblock %}