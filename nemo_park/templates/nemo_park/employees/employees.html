{% extends 'nemo_park/base.html' %}

{% block title %}–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏{% endblock %}

{% block content %}
<div class="page-header">
    <h2 class="page-title">üë• –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h2>
    {% if user.role == 'admin' %}
    <a href="{% url 'add_employee' %}" class="btn btn-success">‚ûï –î–æ–±–∞–≤–∏—Ç—å</a>
    {% endif %}
</div>

<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>üë§ –°–æ—Ç—Ä—É–¥–Ω–∏–∫</th>
                <th>üíº –î–æ–ª–∂–Ω–æ—Å—Ç—å</th>
                <th>üïê –ì—Ä–∞—Ñ–∏–∫</th>
                <th>üí∞ –°—Ç–∞–≤–∫–∞</th>
                <th>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</th>
                <th>‚öôÔ∏è</th>
            </tr>
        </thead>
        <tbody>
            {% for employee in employees %}
            <tr>
                <td>
                    <strong>{{ employee.full_name }}</strong>
                    {% if employee.customuser %}
                        <br><small style="color: #0077B6;">@{{ employee.customuser.username }}</small>
                    {% endif %}
                </td>
                <td>
                    <span class="badge badge-{{ employee.position }}">
                        {{ employee.get_position_display }}
                    </span>
                </td>
                <td>
                    {% if employee.position != 'user' %}
                        <strong>{{ employee.work_start|time:"H:i" }} - {{ employee.work_end|time:"H:i" }}</strong>
                        <br><small style="color: #666;">{{ employee.work_days_display }}</small>
                    {% else %}
                        <span style="color: #999;">‚Äî</span>
                    {% endif %}
                </td>
                <td>
                    {% if employee.position != 'user' %}
                        <strong style="color: #00b894;">{{ employee.hourly_rate }} ‚ÇΩ/—á–∞—Å</strong>
                        <br><small>{{ employee.hours_per_day|floatformat:1 }}—á/–¥–µ–Ω—å</small>
                    {% else %}
                        <span style="color: #999;">‚Äî</span>
                    {% endif %}
                </td>
                <td>
                    {% if employee.phone %}üì± {{ employee.phone }}<br>{% endif %}
                    {% if employee.email %}üìß {{ employee.email }}{% endif %}
                    {% if not employee.phone and not employee.email %}‚Äî{% endif %}
                </td>
                <td>
                    {% if user.role == 'admin' %}
                    <a href="{% url 'edit_employee' employee.id %}" class="btn btn-warning" style="padding: 6px 10px;">‚úèÔ∏è</a>
                    <a href="{% url 'delete_employee' employee.id %}" class="btn btn-danger" style="padding: 6px 10px;">üóëÔ∏è</a>
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="empty-state">
                    <div class="empty-state-icon">üë•</div>
                    <p>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}